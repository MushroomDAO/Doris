<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Doris Protocol - Decentralized Content Platform</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="A decentralized content creation and publishing platform">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  
  <!-- Theme -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">
  
  <!-- Custom styles -->
  <style>
    :root {
      --theme-color: #6366f1;
      --text-color-base: #374151;
      --heading-color: #111827;
      --link-color: #6366f1;
      --sidebar-background: #f9fafb;
      --sidebar-border-color: #e5e7eb;
    }
    
    .app-name-link {
      font-weight: 600;
      font-size: 1.2rem;
    }
    
    .markdown-section {
      max-width: 80ch;
    }
    
    .docsify-copy-code-button {
      background: var(--theme-color);
      color: white;
    }
    
    .search {
      margin-bottom: 20px;
    }
    
    .auth-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }
    
    .btn {
      padding: 8px 16px;
      border-radius: 6px;
      border: none;
      background: var(--theme-color);
      color: white;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
    }
    
    .btn:hover {
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  
  <!-- Authentication UI -->
  <div class="auth-container">
    <div id="auth-status">
      <button class="btn" onclick="login()">Login</button>
    </div>
  </div>
  
  <script>
    window.$docsify = {
      name: 'Doris Protocol',
      repo: 'https://github.com/your-org/doris-protocol',
      loadSidebar: true,
      loadNavbar: true,
      subMaxLevel: 3,
      auto2top: true,
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: 'Search...',
        noData: 'No Results',
        depth: 6
      },
      copyCode: {
        buttonText: 'Copy',
        errorText: 'Error',
        successText: 'Copied'
      },
      pagination: {
        previousText: 'Previous',
        nextText: 'Next',
        crossChapter: true,
        crossChapterText: true,
      },
      tabs: {
        persist: true,
        sync: true,
        theme: 'classic',
        tabComments: true,
        tabHeadings: true
      },
      plugins: [
        function(hook, vm) {
          // Authentication integration
          hook.init(function() {
            console.log('Doris Protocol initialized');
            checkAuthStatus();
          });
          
          // Content creation hooks
          hook.beforeEach(function(content) {
            return content;
          });
          
          hook.afterEach(function(html, next) {
            next(html);
          });
        }
      ]
    }
    
    // Authentication functions
    function checkAuthStatus() {
      // Check if user is logged in
      const user = localStorage.getItem('doris_user');
      const authStatus = document.getElementById('auth-status');
      
      if (user) {
        const userData = JSON.parse(user);
        authStatus.innerHTML = `
          <span>Welcome, ${userData.name}</span>
          <button class="btn" onclick="logout()">Logout</button>
          <button class="btn" onclick="createPost()">New Post</button>
        `;
      } else {
        authStatus.innerHTML = '<button class="btn" onclick="login()">Login</button>';
      }
    }
    
    function login() {
      // TODO: Implement Auth.js integration
      console.log('Login clicked');
      // For now, simulate login
      const mockUser = {
        id: '1',
        name: 'Test User',
        email: 'test@example.com',
        avatar: 'https://avatars.githubusercontent.com/u/1?v=4'
      };
      localStorage.setItem('doris_user', JSON.stringify(mockUser));
      checkAuthStatus();
    }
    
    function logout() {
      localStorage.removeItem('doris_user');
      checkAuthStatus();
    }
    
    function createPost() {
      // TODO: Implement post creation UI
      console.log('Create post clicked');
      window.location.hash = '#/create';
    }
  </script>
  
  <!-- Docsify core -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
  
  <!-- Plugins -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code@2"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-tabs@1"></script>
  
  <!-- Syntax highlighting -->
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-markdown.min.js"></script>
</body>
</html> 